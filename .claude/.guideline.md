# Horse Racing Betting Game — Simplified Android (Java)

## Overview
We are beginner Android developers. We want to build a very simple **Horse Racing Betting Game**.
The main requirement: **horses must run using SeekBars with horse icons as thumbs**.
The app should support betting coins and showing results in a very simple way.

---

## Tech Baseline
- **Language:** Java 8+
- **Min SDK:** 24 (Android 7.0)
- **Architecture:** Single `MainActivity` + simple Fragments
- **Fragments:**
  - `StartFragment`
  - `BetFragment`
  - `RaceFragment`
  - `ResultFragment`
  - `HelpFragment`
- **State Management:** `GameViewModel` with `LiveData` (coins, username, bets, race result)
- **Storage:** `SharedPreferences` only (username, coins, mute flag)
- **Graphics:** Use `SeekBar` with horse image as thumb for race progress
- **Audio:** Optional SFX with `SoundPool` and BGM with `MediaPlayer`
- **Assets:**
  - `res/drawable`: horse icons, background
  - `res/raw`: sound effects, bgm
  - `res/layout`: xml layouts for fragments

---

## Game Rules (Simplified)
1. When the app starts → ask username → reset coins to 100.
2. Player bets on **one horse only**.
3. Race starts → horses move along **SeekBars** until finish.
4. If the player’s horse wins (1st place):
   - They get **double their bet**.
   - Otherwise, they lose their bet.
5. After race → show results + updated coins.
6. "Restart Game" → ask username again + reset coins to 100.

---

## EPIC 0 — Project Setup
- [ ] Create Android project (`Empty Activity`) — package: `com.yourco.horserace`
- [ ] Enable ViewBinding
- [ ] Add folders: `ui/`, `model/`, `data/`, `engine/`
- [ ] Add fragments navigation manually (`FragmentManager`)

---

## EPIC 1 — Initialize Game & Player
- [ ] On app start → `Dialog` to input username
- [ ] Set coins = 100
- [ ] Display username + wallet on screen
- [ ] "Restart Game" resets to 100 coins and asks username again

---

## EPIC 2 — Horse Racing (SeekBar UI)
- [ ] Each horse = one `SeekBar`
- [ ] Each SeekBar has **horse icon** as thumb
- [ ] Race = update SeekBars with random increments using `Handler.postDelayed`
- [ ] When a horse reaches 100% progress → record finish order
- [ ] Show countdown (3–2–1 → GO!) before race starts
- [ ] Emit final placements (1st–4th)

---

## EPIC 3 — Betting & Payouts
- [ ] Player enters bet amount (`EditText`)
- [ ] Player selects horse (`RadioGroup` or `Spinner`)
- [ ] Validate: bet ≤ current wallet
- [ ] Deduct coins temporarily
- [ ] After race → check if selected horse = 1st
  - Win → add (bet × 2) to wallet
  - Lose → coins already deducted
- [ ] Update wallet display

---

## EPIC 4 — Results & Help
- [ ] `ResultFragment` (Dialog):
  - Show placements (1st–4th)
  - Show if player won or lost
  - Show updated coins
  - Button → "Race Again"
- [ ] `HelpFragment`:
  - Explain game rules
  - Show payout system
  - Explain restart/reset

---

## UI Structure
- **StartFragment**:
  - Username + wallet
  - "Bet Now" button
  - "Help" button
  - "Restart Game" button
- **BetFragment**:
  - Input: bet amount
  - Select: horse (radio buttons)
  - Button: "Start Race"
- **RaceFragment**:
  - Countdown (TextView)
  - 4 SeekBars with horse icons
  - Auto-progress until finish
- **ResultFragment**:
  - Placements
  - Win/Lose message
  - Updated wallet
  - Button: "Race Again"
- **HelpFragment**:
  - Static text instructions

---

## Data Models
```java
class Horse {
    int id;
    String name;
    int iconResId;
}

class Bet {
    int horseId;
    int amount;
}
